{"version":3,"file":"main.js","mappings":";;;;;;;;;AAAA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,oBAAoB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA,gHAAgH,kCAAkC,SAAS,sCAAsC;AACjM;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;ACvDD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;ACnCD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,sBAAsB;AAC1C;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;;;;;;;;;;;ACrBA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;ACND;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC;AACnC;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC;AACpC;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC,oBAAoB;AACzD,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;UCzOD;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA;WACA;WACA,iCAAiC,WAAW;WAC5C;WACA;;;;;WCPA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;;;;;;;;;;;;;;;;;;ACNoB;AACF;AAClB;AACqB;AACF;AACU;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sources":["webpack://c/./src/js/index-page.js","webpack://c/./src/js/map-links-listener.js","webpack://c/./src/js/map-page.js","webpack://c/./src/js/preloader.js","webpack://c/./src/js/scripts.js","webpack://c/webpack/bootstrap","webpack://c/webpack/runtime/compat get default export","webpack://c/webpack/runtime/define property getters","webpack://c/webpack/runtime/hasOwnProperty shorthand","webpack://c/webpack/runtime/make namespace object","webpack://c/./src/js/main.js"],"sourcesContent":["const start_texts = [\r\n  {\r\n    title: \"Константин Станиславский\",\r\n    text: \"Режиссер с нестандартным подходом к поиску тем. Интеллектуал с развитой интуицией. Широкий кругозор, любознательность и настойчивость помогают решать самые сложные задачи и выпутываться из всевозможных передряг. Не лишен актерских качеств.\"\r\n  },\r\n  {\r\n    title: \"Владимир Гиляровский\",\r\n    text: 'Журналист, знакомый с различными сторонами человеческой жизни, включая самые неприглядные. Обширный круг знакомств в самых разных сферах, умение находить общий язык практически с любым человеком — от бродяги и преступника до аристократа, — а также доскональное знание московских трущоб и их обитателей не раз выручали его в сложных ситуациях.'\r\n  },\r\n  {\r\n    title: 'Княжна',\r\n    text: 'Обитательница Хитровки, воровка. Утверждает, что она — потомок аристократического рода, но доказать это невозможно, хоть она образованна и даже говорит по-французски. Несмотря на суровую жизнь, отличается благородством. Находчива.'\r\n  },\r\n]\r\n\r\n\r\nwindow.addEventListener('load', function () {\r\n  const persons = document.querySelectorAll('.main_hero-section img')\r\n  if (persons.length > 0)\r\n    for (let i = 0; i < persons.length; i++) {\r\n      if('ontouchstart' in window || navigator.msMaxTouchPoints){\r\n        persons[i].onclick = function () {\r\n          const dialog = document.querySelector('.hero_description')\r\n          dialog.style.display = 'block'\r\n          dialog.style.left = '50%'\r\n          dialog.style.transform = 'translate(-50%, 0)'\r\n          const title = document.querySelector('.hero_description .hero-title')\r\n          const text = document.querySelector('.hero_description .hero-subtitle')\r\n          const mapLink = document.querySelector('.main_link')\r\n          title.innerHTML = start_texts[i].title\r\n          text.innerHTML = start_texts[i].text\r\n          localStorage.setItem('selectedHero', persons[i].id);\r\n          mapLink.href = './map.html'\r\n          mapLink.querySelector('.select-hero').innerText = '«Выбрать героя»'\r\n        }\r\n      } else {\r\n        persons[i].onmouseover = function () {\r\n          const dialog = document.querySelector('.hero_description')\r\n          dialog.style.display = 'block'\r\n          const dialogRect = dialog.getBoundingClientRect()\r\n          const personRect = persons[i].getBoundingClientRect()\r\n          const bodyRect = document.body.getBoundingClientRect()\r\n          dialog.style.left = (dialogRect.width + personRect.x + (personRect.width / 2)) >= bodyRect.width ? `${bodyRect.width - dialogRect.width}px` : `${personRect.x + (personRect.width / 2)}px`\r\n          const title = document.querySelector('.hero_description .hero-title')\r\n          const text = document.querySelector('.hero_description .hero-subtitle')\r\n          title.innerHTML = start_texts[i].title\r\n          text.innerHTML = start_texts[i].text\r\n        }\r\n\r\n        persons[i].onclick = function () {\r\n          localStorage.setItem('selectedHero', persons[i].id);\r\n          window.open('map.html', '_self')\r\n        }\r\n      }\r\n    }\r\n});\r\n","window.addEventListener('click', function (e) {\r\n  const link = e.target.closest('.map_link')\r\n  if (!link) return\r\n  let num;\r\n\r\n  switch (location.pathname.split('/')[1]?.replace('.html', '')) {\r\n    case 'kvartira':\r\n      num = 1;\r\n      break;\r\n    case 'traktir':\r\n      num = 2;\r\n      break;\r\n    case 'police':\r\n      num = 3;\r\n      break;\r\n    case 'antikvar':\r\n      num = 4;\r\n      break;\r\n    case 'nochlejka':\r\n      num = 5;\r\n      break;\r\n  }\r\n\r\n  let maxLoc = Cookies.get('location')\r\n\r\n  if (!maxLoc) maxLoc = 0\r\n  if (num > maxLoc) Cookies.set('location', num)\r\n})\r\n\r\n\r\nwindow.addEventListener('click', function (e) {\r\n  const link = e.target.closest('.restart-link')\r\n  if (!link) return\r\n  Cookies.set('location', 0)\r\n  localStorage.removeItem('selectedHero')\r\n})\r\n","window.onload = function () {\r\n  if (location.pathname.includes('map')) {\r\n    initMap()\r\n  }\r\n}\r\n\r\nfunction initMap() {\r\n  let maxLoc = Cookies.get('location')\r\n  if (!maxLoc) maxLoc = 0\r\n  const locations = document.querySelectorAll('.point-item a')\r\n  locations[maxLoc].classList.add('current-active')\r\n  if (locations?.length > 0) {\r\n    for (let i = 0; i < locations.length; i++) {\r\n      const loc = locations[i];\r\n      if (i > maxLoc) {\r\n        loc.removeAttribute('href')\r\n      } else {\r\n        loc.classList.add('active')\r\n      }\r\n    }\r\n  }\r\n}\r\n","window.addEventListener('load', function () {\r\n  const preloader = document.querySelector('.preloader_wrapper');\r\n\r\n  if (preloader) {\r\n    preloader.style.display = 'none';\r\n  }\r\n});\r\n","\r\nconst url = 'https://hitrovka.woman.ru/get_data/';\r\n\r\nconst antikvarTitle = document.querySelector('.antikvar_title');\r\nconst antikvarSubTitle = document.querySelector('.antikvar_subtitle');\r\nconst antikvarAvatar = document.querySelector('.antikvar-avatar');\r\nconst radjiTitle = document.querySelector('.radji_title');\r\nconst radjiSubTitle = document.querySelector('.radji_subtitle');\r\nconst tractiriTitle = document.querySelector('.traktir_title');\r\nconst tractirSubTitle = document.querySelector('.traktir_subtitle');\r\nconst policeTitle = document.querySelector('.police_title');\r\nconst policeSubTitle = document.querySelector('.police_subtitle');\r\nconst nochlejkaTitle = document.querySelector('.nochlejka_title');\r\nconst nochlejkaSubTitle = document.querySelector('.nochlejka_subtitle');\r\nconst nochlejkaAvatar = document.querySelector('.nochlejka-avatar');\r\n\r\nconst radjiBlock = document.querySelector('.radji_dialog');\r\nconst radjiItem = document.querySelectorAll('.radji-item');\r\n\r\n\r\nconst kru = document.querySelector('.kru');\r\nconst porech = document.querySelector('.porech');\r\nconst woman = document.querySelector('.woman');\r\nconst kruDescr = document.querySelector('.kru-descr');\r\nconst porechDescr = document.querySelector('.porech-descr');\r\nconst womanDescr = document.querySelector('.woman-descr');\r\n\r\n\r\nconst changeDialogTraktir = () => {\r\n  const traktirDialog = document.querySelector('.tractir_dialog');\r\n  const traktirBlock = document.querySelector('.tractir_block');\r\n  const texts = [\"- Что это? Портсигар? Ну дела! А ведь про него давеча спрашивал городовой! Пропади моя душа, если я вру! Накинь пару монет, расскажу, как дело было!\",\r\n    \"- Заходит, значит, городовой… Ну, сброд, значит, с лавок шасть! А он им только: «Цыц, люд арестантский, не по вашу я душу!» А сам, значит, ко мне! И рисунок протягивает. А на нем… Ентот портсигар! Только еще какие-то буквы вот тут намалеваны… Какие? А я почем знаю? Мы университетов не кончали, звиняйте!\"];\r\n\r\n  let currentIndex = 1;\r\n\r\n  function changeText() {\r\n    traktirDialog.textContent = texts[currentIndex];\r\n\r\n    if (currentIndex === texts.length - 1) {\r\n      traktirDialog.removeEventListener('click', changeText);\r\n      traktirDialog.innerHTML = `${texts[currentIndex]}\r\n            <a href=\"./map.html\" class=\"map_link\">\r\n                <p class=\"remove_map\">«Продолжить поиски»</p>\r\n            </a>`\r\n    } else {\r\n      currentIndex = (currentIndex + 1) % texts.length;\r\n    }\r\n  }\r\n\r\n  if (traktirDialog) {\r\n    traktirBlock.addEventListener('click', changeText);\r\n    traktirBlock.addEventListener('tap', changeText);\r\n  }\r\n}\r\n\r\nchangeDialogTraktir()\r\n\r\nconst changeDialogAntikvar = () => {\r\n  const antikvarDialog = document.querySelector('.antikvar_dialog');\r\n  const antikvarBlock = document.querySelector('.antikvar_block');\r\n  const texts = [\"- Подскажите, любезнейший, что вы знаете про вот этот [ПРЕДМЕТ]?\",\r\n    \"- Знать-то я знаю много, но у нас в районе действует правило, кто много говорит, долго не живет. К тому же информация стоит денег…\",\r\n    \"- Ну хорошо. Вот вам серебряный рубль. Этого хватит?\",\r\n    \"- Этого хватит, чтобы меня похоронить, если я назову тебе имя…\",\r\n    \"- А если я дам золотой?\",\r\n    \"- Давай так. Имя я не назову, но скажу, где искать. А уж пойдешь ты туда или нет, решать тебе… Но я бы не советовал туда соваться. Плохое это место!\",\r\n    \"- Вот деньги!\"\r\n  ];\r\n\r\n  let currentIndex = 1;\r\n\r\n  function changeText() {\r\n    if(currentIndex % 2 === 0){\r\n      if (selectedHero === 'kru') {\r\n        antikvarAvatar.src = kruAvatar;\r\n        antikvarAvatar.alt = 'hero';\r\n      } else if (selectedHero === 'porech') {\r\n        antikvarAvatar.src = porechAvatar;\r\n        antikvarAvatar.alt = 'hero';\r\n      } else if (selectedHero === 'woman') {\r\n        antikvarAvatar.src = womanAvatar;\r\n        antikvarAvatar.alt = 'hero';\r\n      }\r\n    } else {\r\n      antikvarAvatar.src = '/img/antikvar/Ellipse 7.webp';\r\n      antikvarAvatar.alt = 'Антиквар';\r\n    }\r\n\r\n    antikvarDialog.textContent = texts[currentIndex];\r\n\r\n    if (currentIndex === texts.length - 1) {\r\n      antikvarDialog.removeEventListener('click', changeText);\r\n      antikvarDialog.innerHTML = `${texts[currentIndex]}\r\n            <a href=\"./map.html\" class=\"map_link\">\r\n                <p class=\"remove_map\">«Продолжить поиски»</p>\r\n            </a>`\r\n    } else {\r\n      currentIndex = (currentIndex + 1) % texts.length;\r\n      antikvarDialog.innerHTML += `<a class=\"map_link\"><p class=\"remove_map\">«Продолжить»</p></a>`\r\n    }\r\n  }\r\n\r\n  if (antikvarDialog) {\r\n    antikvarDialog.innerHTML += `<a class=\"map_link\"><p class=\"remove_map\">«Продолжить»</p></a>`\r\n    antikvarBlock.addEventListener('click', changeText);\r\n    antikvarBlock.addEventListener('tap', changeText);\r\n  }\r\n}\r\n\r\nchangeDialogAntikvar()\r\n\r\nconst changeDialogNochlejka = () => {\r\n  const nochlejkaDialog = document.querySelector('.nochlejka_dialog');\r\n  const nochlejkaBlock = document.querySelector('.nochlejka_block');\r\n  const texts = [\"Странно, это место выглядит давно заброшенным… Кажется, мы шли по ложному следу. Придется начинать расследование сначала!\",\r\n    \"Кто же убил Раджу? Все ответы вы найдете в фильме «Хитровка. Знак четырех». В кино уже с 18 мая.\\n\\nСмотреть трейлер\"\r\n  ];\r\n\r\n  let currentIndex = 1;\r\n\r\n  function changeText() {\r\n    nochlejkaDialog.textContent = texts[currentIndex];\r\n    if(currentIndex + 1 === texts.length) {\r\n      document.querySelector('.card_dialog-text-container .ticket-link').style.display = 'block'\r\n      document.querySelector('.card_dialog-text-container .restart-link').style.display = 'block'\r\n    }\r\n\r\n    if (currentIndex === texts.length - 1) {\r\n      nochlejkaDialog.removeEventListener('click', changeText);\r\n      nochlejkaDialog.innerHTML = `${texts[currentIndex]}`\r\n    } else {\r\n      currentIndex = (currentIndex + 1) % texts.length;\r\n    }\r\n  }\r\n\r\n  if (nochlejkaDialog) {\r\n    nochlejkaDialog.innerHTML += '<a class=\"map_link\"><p class=\"remove_map\">«Продолжить»</p></a>'\r\n    nochlejkaBlock.addEventListener('click', changeText);\r\n    nochlejkaBlock.addEventListener('tap', changeText);\r\n  }\r\n}\r\n\r\nchangeDialogNochlejka()\r\n\r\n\r\n// localStorage.clear()\r\nconst selectedHero = localStorage.getItem('selectedHero')\r\n\r\nconst kruAvatar = './img/kruEclips.webp'\r\nconst porechAvatar = './img/porech6.webp'\r\nconst womanAvatar = '../img/wonam.webp'\r\n\r\nconst addCardTextRadji = (nameTitle, nameSubtitle, numberArrName, numberArrDescr) => {\r\n  if (nameTitle) {\r\n    nameTitle.textContent = numberArrName\r\n    nameSubtitle.textContent = numberArrDescr\r\n  }\r\n}\r\nconst addCardTextAntikvar = (nameTitle, nameSubtitle, numberArrName, numberArrDescr, cardDialogAvatar) => {\r\n  if (nameTitle) {\r\n    if (selectedHero === 'kru') {\r\n      cardDialogAvatar.src = kruAvatar;\r\n      cardDialogAvatar.alt = 'hero';\r\n    } else if (selectedHero === 'porech') {\r\n      cardDialogAvatar.src = porechAvatar;\r\n      cardDialogAvatar.alt = 'hero';\r\n    } else if (selectedHero === 'woman') {\r\n      cardDialogAvatar.src = womanAvatar;\r\n      cardDialogAvatar.alt = 'hero';\r\n    }\r\n    nameTitle.textContent = numberArrName\r\n    nameSubtitle.textContent = numberArrDescr\r\n  }\r\n}\r\nconst addCardTextTractir = (nameTitle, nameSubtitle, numberArrName, numberArrDescr) => {\r\n  if (nameTitle) {\r\n    nameTitle.textContent = numberArrName\r\n    nameSubtitle.textContent = numberArrDescr\r\n  }\r\n}\r\nconst addCardTextPolice = (nameTitle, nameSubtitle, numberArrName, numberArrDescr) => {\r\n  if (nameTitle) {\r\n    nameTitle.textContent = numberArrName\r\n    nameSubtitle.textContent = numberArrDescr\r\n  }\r\n}\r\nconst addCardTextNochlejka = (nameTitle, nameSubtitle, numberArrName, numberArrDescr, cardDialogAvatar) => {\r\n  if (nameTitle) {\r\n    if (selectedHero === 'kru') {\r\n      cardDialogAvatar.src = kruAvatar;\r\n      cardDialogAvatar.alt = 'hero';\r\n    } else if (selectedHero === 'porech') {\r\n      cardDialogAvatar.src = porechAvatar;\r\n      cardDialogAvatar.alt = 'hero';\r\n    } else if (selectedHero === 'woman') {\r\n      cardDialogAvatar.src = womanAvatar;\r\n      cardDialogAvatar.alt = 'hero';\r\n    }\r\n    nameTitle.textContent = numberArrName\r\n    nameSubtitle.textContent = numberArrDescr\r\n  }\r\n}\r\n\r\n\r\nfetch(url)\r\n  .then(response => response.json())\r\n  .then(resp => {\r\n    const location = resp.location\r\n\r\n    addCardTextRadji(radjiTitle, radjiSubTitle, location[0].name, location[0].desc)\r\n    addCardTextTractir(tractiriTitle, tractirSubTitle, location[1].name, location[1].desc)\r\n    addCardTextPolice(policeTitle, policeSubTitle, location[2].name, location[2].desc)\r\n    addCardTextAntikvar(antikvarTitle, antikvarSubTitle, location[3].name, location[3].desc, antikvarAvatar);\r\n    addCardTextNochlejka(nochlejkaTitle, nochlejkaSubTitle, location[4].name, location[4].desc, nochlejkaAvatar)\r\n\r\n\r\n  })\r\n  .catch(error => console.log('Error', error))\r\n\r\n\r\nradjiItem.forEach(item => {\r\n  if('ontouchstart' in window || navigator.msMaxTouchPoints){\r\n    item.onclick = function (){\r\n      item.classList.add('found')\r\n      radjiBlock.style.display = 'flex'\r\n    }\r\n  } else {\r\n    item.onmouseover = function (){\r\n      item.classList.add('found')\r\n      radjiBlock.style.display = 'flex'\r\n    }\r\n  }\r\n})\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import './preloader'\r\nimport './scripts'\r\n\r\nimport './index-page'\r\nimport './map-page'\r\nimport './map-links-listener'\r\n\r\nif (location.pathname.replace('/', '') !== '' && !localStorage.getItem('selectedHero')) {\r\n  location.replace(location.origin)\r\n}\r\n\r\nif (location.pathname.includes('nochlejka')) {\r\n  Cookies.set('location', 0)\r\n}\r\n"],"names":[],"sourceRoot":""}